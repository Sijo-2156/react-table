'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.mapOptClass = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _bind = require('classnames/bind');

var _bind2 = _interopRequireDefault(_bind);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var OptClass = function OptClass(context, internal, optClass, className) {
  var cx = _bind2.default.bind(context);

  optClass = typeof optClass === 'string' ? optClass.split(' ') : optClass;
  internal = typeof internal === 'string' ? internal.split(' ') : internal;

  var arr = [internal];

  if (optClass !== undefined) {
    arr.push(optClass);
  }

  if (className !== undefined) {
    arr.push(className);
  }

  return cx(arr);
};

var mapOptClass = exports.mapOptClass = function mapOptClass(optClass, styles) {
  if (!optClass) return styles.default;
  var definedStyles = Object.keys(styles);

  if (definedStyles.indexOf(optClass) !== -1) return styles[optClass];

  var renderedStyles = styles.default;

  definedStyles.filter(function (a) {
    return optClass.indexOf(a) !== -1;
  }).reverse().map(function (item) {
    renderedStyles = _extends({}, renderedStyles, styles[item]);
  });

  return renderedStyles;
};

exports.default = OptClass;